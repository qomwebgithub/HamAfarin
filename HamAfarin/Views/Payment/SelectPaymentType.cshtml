@model ViewModels.SelectPaymentTypeViewModel

@{
    ViewBag.Title = "SelectPaymentType";
    Layout = "~/Areas/UserPanel/Views/Shared/_Layout.cshtml";
}

<div class="container px-0">

    @if (ViewBag.UserProfileIsActive != null && ViewBag.UserProfileIsActive == true)
    {
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">تصویر ضمانت نامه</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <img src="~/Resources/BusinessPlans/Warranty/@Model.ImageNameWarranty" />

                </div>
            </div>
        </div>

        <div class="modal fade" id="siteTermsConditionsModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-investment" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">قرارداد سرمایه گذاری</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="container">
                        <p>@Html.Raw(Model.SiteTermsConditions)</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="privacyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-investment" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">قرارداد سرمایه گذاری</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="container">
                        @*<p>@Html.Raw(Model.Privacy)</p>*@
                        <p>
                            باسمه تعالی
                            قرارداد سرمایه گذاری در طرح های سکوی هم آفرین
                            ماده 1- طرفین قرارداد
                            این قرارداد بر اساس قوانین و مقررات جمهوری اسلامی ایران، مفاد دستورالعمل مصوبه ها و ابلاغیه های کارگروه ارزیابی شرکت فرابورس ایران و سازمان بورس و اوراق بهادار کشور، بین امضاکنندگان زیر منعقد می گردد:
                            طرف اول: شخص حقیقی/حقوقی با مشخصات و اطلاعات کامل سجامی مذکور در صفحه حساب کاربری در سکوی www.hamafarin.ir که در این قرارداد "سرمایه گذار " نامیده می‌شود.
                            طرف دوم: شرکت سپید طب نیا به شناسه ملی 10103582017 و کد اقتصادی 411374563859 شماره ثبت 321456 و  به آدرس خیابان وزرا خیابان چهاردهم کوچه ششم پلاک ۲۵ واحد ۱  و تلفن ۸۸۵۵۸۶۴۷ و کدپستی 1511765614طبق روزنامه رسمی شماره 22037  مورخه 22/08/1399 و با نمایندگی آقای سید حسین اعتمادی منفرد به عنوان رییس هیات مدیره با کد ملی 0064263861 و خانم اعظم بیگی به عنوان مدیرعامل  با کد ملی 3873968800  شماره تلفن همراه 09121167524و ایمیل info@sepidteb.com که از این پس در این قرارداد به اختصار  "متقاضی"  نامیده می‌شود.
                            طرف سوم: شرکت فراز ایده نوآفرین تک(فاینتک) به شناسه ملی 14007219634 و کداقتصادی 411573474841 و شماره ثبت 518892 به نشانی تهران شهرک غرب، انتهای بلوار دریا، بلوار شهید نورانی، خیابان فخار مقدم، نرسیده به بوستان دوم، پلاک 24، طبقه 3 شماره تلفن : 91071072 – 021 و کدپستی 1468873719 ایمیلinfo@hamafarin.ir و با نمایندگی آقای رضا زرنوخی به شماره ملی 0450498646 رییس هیات مدیره و آقای مهدی فرازمند به شماره ملی1285025466 مدیرعامل که از این پس در این قرارداد به اختصار "عامل" نامیده می‌شود.
                            تبصره 1: متقاضی با امضای این قرارداد کلیه مفاد قرارداد و مشخصات طرح مندرج در پیوست 1 را تایید می نماید.
                            همچنین سرمایه گذار با تایید الکترونیکی قرارداد در سکوی تامین مالی جمعی هم آفرین، واریز وجه و باز ارسال پیامک امنیتی سایت، قبول و نافذ بودن این قرارداد را تایید می نماید.
                            تبصره2: نشانی، پست الکترونیک و تلفن های سرمایه گذار و متقاضی همان موارد مندرج در این ماده است. چنانچه یکی از اشخاص مزبور نشانی، پست الکترونیک و تلفنهای خود را تغییر دهد، باید موضوع را به صورت کتبی به عامل ابلاغ کند. تا وقتی که تغییر موارد فوق، کتباً به طرف دیگر ابلاغ نشده باشد، کلیه مکاتبات و مراسلات و ابلاغیه ها و اخطاریه های اجرایی و غیره، حسب مورد از طریق شماره تلفن (پیامک)، پست الکترونیک و نشانی که در این ماده قید شده است، ارسال می‌شود و ابلاغ شده تلقی می‌گردد .
                            ماده 2-  اصطلاحات و واژگان قرارداد
                            دستورالعمل: منظور دستورالعمل تامین مالی جمعی مصوب شورای عالی بورس در تاریخ 25/02/1397 می باشد.
                            سکو: پلتفرم هم آفرین به آدرس www.hamafarin.ir که برای تامین مالی جمعی توسط عامل ایجاد شده است و اطلاعات لازم طرح بر اساس دستورالعمل و این قرارداد در آن منتشر می شود. مدیریت سکو بر عهده عامل می باشد.
                            طرح: فعالیتی است که متقاضی برای انجام آن درخواست تامین مالی نموده است. مشخصات طرح در پیوست یک قرارداد ارائه گردیده است.
                            طرح باز: طرحی است که در حال تامین مالی بوده، یا تکمیل شده ولی هنوز منابع جمع آوری شده تحویل متقاضی نشده است.
                            تامین کننده/ سرمایه گذار: شخص حقیقی یا حقوقی تامین کننده منابع مالی مورد نیاز متقاضی برای اجرای طرح است. که توسط سکو، احراز هویت شده و منابع مالی را جهت سرمایه گذاری در طرح به حساب معرفی شده در سکو واریز نموده است.
                            متقاضی/ سرمایه پذیر: شخص حقوقی که به منظور تامین منابع مالی طبق الزامات دستورالعمل به عامل مراجعه نموده است.
                            گواهی شراکت: ورقه بهاداری است که در تامین مالی جمعی به صورت الکترونیک منتشر می شود و از ثبت نزد سازمان بورس معاف می باشد. این گواهی حاکی از میزان مشارکت تامین کنندگان در طرح متقاضی که در سکو معرفی شده، است. مدت اعتبار گواهی، که بر روی آن درج می گردد، به میزان مدت اجرای طرح می باشد. ملاک صحت گواهی شراکت، مستندات واریزی وجه توسط سرمایه گذار به حساب معرفی شده در سکو است.
                            دوره مشارکت: از زمان واریز وجه به حساب متقاضی تا زمان اتمام طرح و محاسبه سود سرمایه‌گذاری و تسویه اصل و سود با سرمایه‌گذار خواهد بود.
                            دوره تکمیل سرمایه: دوره حداکثر دو ماهه جمع آوری وجوه از تامین کنندگان جهت مشارکت در طرح متقاضی.
                            فراخوان تامین: اعلان عمومی درخواست متقاضی برای تامین مالی طرح در پلتفرم، برای معرفی به تامین کنندگان است.
                            ناظرفنی/مالی: شخص حقیقی یا حقوقی است که با معرفی عامل وظیفه ارزیابی و نظارت بر حسن اجرای طرح را دارد.
                            تامین مالی جمعی: عبارت است از جمع آوری وجوه از عموم سرمایه گذاران حقیقی و حقوقی، برای تأمین مالی طرح معرفی شده در سکو.
                            کارگروه ارزیابی: کارگروهی که مطابق ماده 14 دستورالعمل تأمین مالی جمعی مصوب مورخ 25/02/1397 شورايعـالی بـورس و اوراق بهـادار ، تشکیل می گردد.
                            واحد سرمایه گذاری: معرف مبلغ 1.000ریال سرمایهگذاری میباشد.
                            ماده 3- موضوع قرارداد
                            موضوع قرارداد عبارت است از سرمایهگذاری سرمایهگذار در طرح متقاضی بنا بر مشخصات طرح که در پیوست یک قرارداد تشریح گردیده است بر طبق شرایط و الزامات و تعهدات این قرارداد.
                            ماده4- مبلغ سرمایه گذاری و صدور گواهی شراکت
                            1-4- مبلغ سرمایهگذاری معادل مبلغ واریز شده از طرف سرمایهگذار به حساب سکو بوده که مستندات واریز آن به تایید سکو رسیده باشد. و مبلغ آن در حساب کاربری سرمایهگذار جهت سرمایهگذاری در طرح موضوع ماده 3 قرارداد درج گردیده است.
                            تبصره1: مبالغ واریزی توسط سرمایه گذار مضربی از هزار ریال است. با واریز هر یک هزار ریال جهت سرمایه گذاری در طرح، یک واحد سرمایه گذاری به سرمایه گذار تعلق می گیرد. تعداد واحد سرمایه گذاری در گواهی شراکت درج می گردد.
                            2-4- گواهی شراکت پس از تکمیل سرمایه طرح و همزمان با واریز وجوه جمع آوری شده به حساب متقاضی، صادر می گردد. درصورتی که طرح در تامین مالی ناموفق باشد، وجوه سرمایهگذار ظرف مدت سه روز کاری به کیف پول اعتباری سرمایه گذار و یا شماره حساب وی عودت گردیده و گواهی شراکت برای سرمایه گذار صادر نخواهد شد. در صورت عدم تکمیل سرمایه، هیچگونه مسئولیت و تعهدی بر عهده عامل نبوده و سرمایه گذار و متقاضی حق هیچگونه اعتراضی ندارند.
                            تبصره2- درصورت عدم تکمیل سرمایه و درخواست کتبی متقاضی جهت استفاده از وجوه جمع آوری شده برای انجام طرح و موافقت عامل واریز وجوه به حساب متقاضی امکان پذیر می باشد.  در اینصورت کلیه مفاد قرارداد نسبت به مبلغ فوق پابرجا می باشد.
                            تبصره3- مدت اعتبار گواهی شراکت بر روی ان ثبت شده است.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- end modal-->
        using (Html.BeginForm("SelectPaymentType", "Payment", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(model => model.BusinessPlanID)
            @Html.HiddenFor(model => model.BussinessName)
            @Html.HiddenFor(model => model.AmountRequiredRoRaiseCapital)
            @Html.HiddenFor(model => model.CodeOTC)
            @Html.HiddenFor(model => model.PercentageReturnInvestment)
            @Html.HiddenFor(model => model.FinancialDuration_id)
            @Html.HiddenFor(model => model.ImageNameWarranty)
            @Html.HiddenFor(model => model.InvestorNationalCode)
            @Html.HiddenFor(model => model.InvestorMobile)
            @Html.HiddenFor(model => model.InvestorSejamId)
            @Html.HiddenFor(model => model.MaximumInvestment)
            @Html.HiddenFor(model => model.MinimumAmountInvest)
            @Html.HiddenFor(model => model.CanInvestment)
            @Html.HiddenFor(model => model.TotalInvestment)
            @Html.HiddenFor(model => model.IsOnline)
            <br />
            <br />
            <br />
            <table class="table text-center">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">@Html.DisplayNameFor(model => model.BussinessName)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model.CompanyName)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>@Html.DisplayFor(model => model.BussinessName)</td>
                        <td>@Html.DisplayFor(model => model.CompanyName)</td>
                    </tr>
                </tbody>
            </table>

            @*<div class="container border">
                    <div class="row">
                        <div class="col-sm">

                            <p class="text-danger">خلاصه طرح</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm">
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.BussinessName)</p>
                            </div>
                            <div class="row">
                                <p class="col-12"> @Html.DisplayFor(model => model.BussinessName)</p>
                            </div>
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.CompanyName)</p>
                            </div>
                            <div class="row">
                                <p class="col-12"> @Html.DisplayFor(model => model.CompanyName)</p>
                            </div>
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.AmountRequiredRoRaiseCapital)</p>
                            </div>
                            <div class="row">
                                <p class="col-12">
                                    @Convert.ToDecimal(Model.AmountRequiredRoRaiseCapital).ToString("#,##0")
                                </p>
                            </div>
                        </div>

                        <div class="col-sm">
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.CodeOTC)</p>
                            </div>
                            <div class="row">
                                <p class="col-12"> @Html.DisplayFor(model => model.CodeOTC)</p>
                            </div>
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.PercentageReturnInvestment)</p>
                            </div>
                            <div class="row">
                                <p class="col-12"> @Html.DisplayFor(model => model.PercentageReturnInvestment) درصد</p>
                            </div>
                        </div>

                        <div class="col-sm">
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.FinancialDuration_id)</p>
                            </div>
                            <div class="row">
                                <p class="col-12"> @Html.DisplayFor(model => model.FinancialDuration_id)</p>
                            </div>
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.ImageNameWarranty)</p>
                            </div>
                            <div class="row">
                                <p class="col-12">
                                    <a class="" data-toggle="modal" data-target="#exampleModal">
                                        <img class="mt-2" src="~/Content/img/zemanatname.svg" />
                                    </a>
                                </p>
                            </div>


                        </div>

                    </div>
                </div>*@

            @*<div class="container border">
                    <div class="row">
                        <div class="col-sm">

                            <p class="text-danger">مشخصات سرمایه گذار</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm">
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.InvestorFullName)</p>
                            </div>
                            <div class="row">
                                <p class="col-12"> @Html.DisplayFor(model => model.InvestorFullName)</p>
                            </div>
                        </div>

                        <div class="col-sm">
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.InvestorNationalCode)</p>
                            </div>
                            <div class="row">
                                <p class="col-12"> @Html.DisplayFor(model => model.InvestorNationalCode)</p>
                            </div>

                        </div>

                        <div class="col-sm">
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.InvestorSejamId)</p>
                            </div>
                            <div class="row">
                                <p class="col-12"> @Html.DisplayFor(model => model.InvestorSejamId)</p>
                            </div>
                        </div>

                        <div class="col-sm">
                            <div class="row">
                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.InvestorMobile)</p>
                            </div>
                            <div class="row">
                                <p class="col-12"> @Html.DisplayFor(model => model.InvestorMobile)</p>
                            </div>
                        </div>

                    </div>
                </div>*@

            <br />
            <br />
            <div class="container p-0">

                <div class="form-group">
                    <div class="col-md-2">
                    </div>
                    <div class="col-md-10 px-0">
                        @Html.EditorFor(model => model.InvestmentRoles)
                        کلیه
                        @*<a class="link_active" data-toggle="modal" data-target="#siteTermsConditionsModal" href="#">
                                قوانین و مقررات
                            </a>*@
                        <a class="link_active" href="/SiteTermsConditions" target="_blank">قوانین و مقررات</a>،<a class="link_active" href="/RiskAlertStatement" target="_blank">
                            بیانیه ریسک
                        </a>
                        و
                        <a class="link_active" data-toggle="modal" data-target="#privacyModal">
                            قرارداد سرمایه گذاری
                        </a>
                        را مطالعه نموده و پذیرفته ام.
                        @Html.ValidationMessageFor(model => model.InvestmentRoles)
                    </div>
                </div>

            </div>
            <br />
            <div id="paymentType" class="hidden">

                <div class="col-sm p-0">
                    @*<p class="text-danger"> سرمایه گذاری</p>*@

                    @*<div class="row">
                                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.MinimumAmountInvest)</p>
                                            </div>
                                            <div class="row">
                                                <p class="col-12"> @Model.MinimumAmountInvest.ToString("#,##0")</p>
                                            </div>
                                            <div class="row">
                            <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.MaximumInvestment)</p>
                        </div>
                        <div class="row">
                            <p class="col-12"> @Model.MaximumInvestment.ToString("#,##0")</p>
                        </div>
                                            <div class="row">
                                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.TotalInvestment)</p>
                                            </div>
                                            <div class="row">
                                                <p class="col-12"> @Model.TotalInvestment.ToString("#,##0")</p>
                                            </div>
                                            <div class="row">
                                                <p class="col-12 font-weight-bold"> @Html.DisplayNameFor(model => model.CanInvestment)</p>
                                            </div>
                                            <div class="row">
                                                <p class="col-12"> @Model.CanInvestment.ToString("#,##0")</p>
                                            </div>*@

                    <table class="table text-center">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">@Html.DisplayNameFor(model => model.MinimumAmountInvest)</th>
                                @*<th scope="col">@Html.DisplayNameFor(model => model.TotalInvestment)</th>*@
                                <th scope="col">@Html.DisplayNameFor(model => model.CanInvestment)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>@Model.MinimumAmountInvest.ToString("#,##0") تومان</td>
                                @*<td>@Model.TotalInvestment.ToString("#,##0")</td>*@
                                <td>@Model.CanInvestment.ToString("#,##0") تومان</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <br />

                <div class="container border pt-3">
                    <div class="row">
                        <div class="row justify-content-start col-sm form-check">
                            <p class="text-nowrap col-12 col-md-2 text-bold mb-0" style=" line-height: 2.4;"> نوع پرداخت:</p>
                            <div class="col-12 col-md-3 px-0">
                                <div class="form-check form-check-inline" style="margin:8px">
                                    <input class="form-check-input"
                                           type="radio"
                                           name="inlineRadioOptions"
                                           id="onlineRadio"
                                           value="optOnline" checked />
                                    <label class="form-check-label" for="inlineRadio2">پرداخت آنلاین</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-3 px-0">
                                <div class="form-check form-check-inline" style="margin:8px">
                                    <input class="form-check-input"
                                           type="radio"
                                           name="inlineRadioOptions"
                                           id="offlineRadio"
                                           value="optOffline" />
                                    <label class="form-check-label" for="inlineRadio2">فیش واریزی</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-4">
                        <div class="col-sm d-flex align-items-center justify-content-center px-0">

                            <div id="onlineView" class="col-sm hidden px-0">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <label>مبلغ مورد نظر برای سرمایه گذاری را وارد نمایید</label>
                                    </div>
                                    <div class="col-md-8">
                                        @*@Html.EditorFor(model => model.OnlinePaymentPrice)*@
                                        @Html.TextBoxFor(model => model.OnlinePaymentPrice, new { @oninput = "inputPriceHandeler('#OnlinePaymentPrice')" })
                                        @Html.ValidationMessageFor(model => model.OnlinePaymentPrice, null, new { @class = "text-danger" })

                                    </div>
                                </div>

                                <p class="control-label col-md-12 alert-primary" id="OnlinePaymentPriceSeprate"></p>

                            </div>
                            <div id="offlineView" class="col-sm hidden">
                                <br />
                                @*<div class="col-md-12">
                                        <label>مبلغ مورد نظر برای سرمایه گذاری را وارد نمایید</label>
                                    </div>*@
                                <br />
                                <div class="form-group row">
                                    @*@Html.LabelFor(model => model.OfflinePaymentPrice, new { @class = "control-label col-md-12" })*@
                                    <label class="col-md-5">مبلغ مورد نظر برای سرمایه گذاری را وارد نمایید</label>
                                    <div class="col-md-7">
                                        @*@Html.EditorFor(model => model.OfflinePaymentPrice)*@
                                        @Html.TextBoxFor(model => model.OfflinePaymentPrice, new { @oninput = "inputPriceHandeler('#OfflinePaymentPrice')" })
                                        @Html.ValidationMessageFor(model => model.OfflinePaymentPrice, null, new { @class = "text-danger" })
                                    </div>
                                </div>

                                <p class="control-label col-md-12 alert-primary" id="OfflinePaymentPriceSeprate"></p>
                                <div class="row">
                                    <div class="form-group row col-md-6">
                                        @Html.LabelFor(model => model.TransactionPaymentCode, new { @class = "control-label col-md-3 px-0" })
                                        <div class="col-md-9 pr-0">
                                            @Html.EditorFor(model => model.TransactionPaymentCode)
                                            @Html.ValidationMessageFor(model => model.TransactionPaymentCode, null, new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="form-group row col-md-6 pl-0">
                                        @Html.LabelFor(model => model.PaymentImageName, new { @class = "control-label col-md-4 px-0" })
                                        <div class="col-md-8 px-0">
                                            @Html.Kendo().Upload().Name("imgPaymentImageNameUploaded")
                                            @Html.ValidationMessageFor(model => model.PaymentImageName, null, new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>

                                <br />
                            </div>


                        </div>

                    </div>

                    <div class="row ">

                        <div class="container-fluid">
                            <div class="form-group" id="buttons">
                                <br />
                                <div class="mx-auto" style="width: 200px;">
                                    <input id="btnSubmit" type="submit" value="تایید" class="btn btn-success" />
                                    <a href="/BusinessPlans" class="btn btn-danger">انصراف</a>
                                </div>
                            </div>
                        </div>

                    </div>

                    <br />

                </div>
            </div>

        }

    }
    else if (ViewBag.UserProfileIsActive == null)
    {
        <div class="container alert alert-danger">
            <p>برای تکمیل فرآیند سرمایه گذاری، اطلاعات سجام شما لازم می باشد.</p>
            <a href="/Account/SejamLogin" class="btn btn-orange btn-lg" style="font-size: 15px;">
                دریافت اطلاعات از سجام
            </a>
            <div class="mt-2">
                <a href="https://www.sejam.ir/" target="_blank">
                    در صورت عدم ثبت نام در سجام، اینجا کلیک کنید
                </a>
            </div>
        </div>
    }
    else
    {
        <div class="container alert alert-danger">
            <p>
                پروفایل شما در انتظار تایید ادمین می باشد.<br />
                برای اطلاعات بیشتر با پشیبانی 42417000-021 داخلی 5 تماس بگیرید.
            </p>
        </div>
    }




    <br />
</div>

@section Scripts{

    <script src="~/Scripts/modal.js"></script>


    <script>

        $(document).ready(function () {
            handleInvestmentRoles($("#InvestmentRoles").is(':checked'));
            $('#InvestmentRoles').change(function () {
                handleInvestmentRoles($(this).is(":checked"));
            });

            if ($("#IsOnline").val().toLowerCase() == "true") {
                document.getElementById("onlineRadio").checked = true;
                document.getElementById("offlineRadio").checked = false;
                handlePaymentOnline(true);
            }
            else {
                document.getElementById("offlineRadio").checked = true;
                document.getElementById("onlineRadio").checked = false;
                handlePaymentOffline(true);
            }
            $('#onlineRadio').change(function () {
                handlePaymentOnline($(this).is(":checked"));
            });
            $('#offlineRadio').change(function () {
                handlePaymentOffline($(this).is(":checked"));
            });
        });

        function handleInvestmentRoles(checked) {

            if (checked) {
                $('#paymentType').show();
                $('#btnSubmit').show();
            }
            else {
                $('#paymentType').hide();
                $('#btnSubmit').hide();
            }
        };
        function handlePaymentOnline(isOnlineRadio) {
            $("#IsOnline").val(true);

            if (isOnlineRadio) {
                $('#onlineView').show();
                $('#offlineView').hide();
            }
            else {
                $('#onlineView').hide();
                $('#offlineView').show();
            }
        };
        function handlePaymentOffline(isOnlineRadio) {
            $("#IsOnline").val(false);
            if (isOnlineRadio) {
                $('#offlineView').show();
                $('#onlineView').hide();
            }
            else {
                $('#offlineView').hide();
                $('#onlineView').show();
            }
        };


        $('#OnlinePaymentPrice').keyup(function (event) {
            var PaymentPriceSeprate = document.getElementById('OnlinePaymentPriceSeprate');
            var Num = $("#OnlinePaymentPrice").val();
            var seprateValue = Num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            PaymentPriceSeprate.innerHTML = seprateValue + " تومان";
        });


        $('#OfflinePaymentPrice').keyup(function (event) {
            var PaymentPriceSeprate = document.getElementById('OfflinePaymentPriceSeprate');
            var Num = $("#OfflinePaymentPrice").val();
            var seprateValue = Num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            PaymentPriceSeprate.innerHTML = seprateValue + " تومان";

        });

        function inputPriceHandeler(id) {
            let inputVal = $(id).val();
            let inputLength = inputVal.length;
            if (inputLength == 0)
                return false;
            var x = inputVal.charAt(inputLength - 1);
            if (x != '۰' && x != '۱' && x != '۲' && x != '۳' && x != '۴' && x != '۵' && x != '۶' && x != '۷' && x != '۸' && x != '۹') {

                $(id).val(inputVal.replace(/[^0-9]/g, ''));
            }
        }

        // بستن مودال با دکمه بک در گوشی
        if (window.history && window.history.pushState) {
            $('#privacyModal').on('show.bs.modal', function (e) {
                window.history.pushState('forward', null, '#modal');
            });

            $(window).on('popstate', function () {
                $('#privacyModal').modal('hide');
            });
        }

    </script>
}
